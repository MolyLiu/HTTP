#HTTP概述
Web浏览器、服务器和相关的Web应用程序都是通过HTTP相互通信的。HTTP是现代全球因特网中使用的公共语言。
##1.1 HTTP--因特网中的信使
HTTP使用的是 可靠的数据传输协议，能够保证数据在传输过程中不会被损坏或产生混乱。

##1.2 Web客户端和服务器
Web内容都是存储在Web服务器上的。

**Web服务器**所使用的是HTTP协议，因此经常会被称为**HTTP服务器**。

HTTP客户端和HTTP服务器共同构成了万维网的基本组件。

##1.3 资源
Web服务器是Web资源的宿主。

Web资源是Web内容的源头。

资源不一定非的是静态文件，资源还可以是根据需要生成内容的软件程序。

总之，所有类型的内容来源都是资源。

###1.3.1 媒体类型
因特网上有数千种不同的数据类型，HTTP仔细地给每种要通过Web传输的对象都打上名为MIME类型的数据标签格式。

Web服务器会为所有HTTP对象数据附上一个MIME类型。

MIME类型是一种文本标记，表示一种主要的**对象类型**和一个特定的**子类型**。

###1.3.2 URI
每个Web服务器资源都有一个名字。

服务器资源名被称为 ***统一资源标识符***（Uniform Resource Identifier,URI）

URI有两种形式，分别称为URL和URN。

### 1.3.3 URL
统一资源定位符（URL）是资源标识符最常见的形式。

URL描述了一台特定服务器上某资源的特定位置。

大部分URL都遵循一种标准格式，这种格式包含三个部分：

1. URL的第一部分被称为 **方案**。说明了访问资源所使用的协议类型，这部分通常是HTTP协议（http://）.
2. 第二部分给出了服务器的因特网地址
3. 其余部分指定了Web服务器上的某个资源。

现在几乎所有的URI都是URL。

### 1.3.4 URN
URI的第二种形式就是统一资源名（URN）。

URN是作为特定内容的唯一名称使用的，与目前资源所在地**无关**。

URI仍处于试验阶段，还未大范围使用。

##1.4 事务
一个HTTP事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发挥客户端的）相应结果组成。这种通信是通过名为**HTTP报文**的格式化数据块进行的。

###1.4.1
HTTP支持几种不同的请求命令，这些命令被称为HTTP方法。

每一条HTTP请求报文都包含**一个**方法，这个方法会告诉服务器要执行什么动作。

HTTP方法：GET,PUT,DELETE,POST,HEAD

###1.4.2 状态码
每条HTTP**响应报文**返回时都会携带一个状态码。状态码是一个三位数字的代码，告知客户端。（例如，200,404...）。

伴随着每个数字状态码，HTTP还会发送一条解释性的“原因短语”文本。

###1.4.3 Web页面中可以包含多个对象
一个“Web页面”通常并不是单个资源，而是一组资源的集合。

##1.5 报文

HTTP报文是由一行一行简单字符串组成的。http报文都是纯文本，不是二进制代码。

请求报文：从Web客户端发往Web服务器的HTTP报文。

响应报文：从服务器发往客户端的报文。

HTTP报文包括以下三个部分：

1. 起始行：报文的第一行就是起始行，在请求报文中用来说明做些什么，在相响应报文中说明出现了什么情况。
2. 首部字段：起始行后面有零个或者多个首部字段。每个首部字段都包含一个名字和一个值，两者之间用冒号（：）来分隔，首部以一个空行结束。
3. 主体：空行之后就是报文的主体，其中包含了所有类型的数据。
##1.6 连接
报文是如何通过传输控制协议（tcp）连接从一个地方搬移到另一个地方去的。
###1.6.1 TCP/IP
HTTP是个应用层协议。HTTP无需操心网络通信的具体细节，它把联网的细节都交给了通用、可靠的因特网传输协议TCP/IP。

TCP提供了无差错的数据传输；按序传输；未分段的数据流；

只要建立了TCP连接，客户端和服务器之间的报文交换就不会丢失、不会被破坏，也不会在接收时出现错序了。

###1.6.2 连接、IP地址及端口号
在HTTP客户端向服务器发送报文之前，需要用网际协议（IP）地址和端口号在客户端和服务器之间建立一条TCP/IP连接。

最开始的时候，通过URL获得HTTP服务器的IP地址和端口号。

###1.6.3 使用Telnet实例
由于HTTP使用了TCP/IP传输协议，而且它是基于文本的，因此很容易直接与Web服务器进行对话。

略过  P16 P17

##1.7协议版本  略过

##1.8  Web的结构组件
两个Web应用程序是如何发送报文来实现基本事务处理的。
1. 代理：  位于客户端和服务器之间的HTTP中间实体。
2. 缓存：  HTTP的仓库，使常用的页面的副本可以保存在离客户端更近的地方。
3. 网关：  连接其他应用程序的特殊Web服务器。
4. 隧道：  对HTTP通信报文进行盲转发的特殊处理
5. Agent代理： 发起**自动**HTTP请求的半智能Web客户端
###1.8.1 代理
代理位于客户端和服务器之间，接受所有客户端的HTTP请求，并且将这些请求转发给服务器（可能会对请求修改之后转发）。

通过会将代理作为转发所有Web流量的可信任中间节点使用。

代理还可以对请求和响应进行过滤。
###1.8.2 缓存
Web缓存或代理缓存是一种特殊的HTTP代理服务器，可以将经过代理传送的**常用**文档复制保存起来。

客户端从附近的缓存下载文档会比远程Web服务器下载**快**得多。
###1.8.3 网关
网关是一种特殊的服务器，作为其他服务器的中间实体使用。

通常用于将HTTP流量转换成其他的协议。
###1.8.4 隧道
隧道是简历起来之后，就会在两条连接之间对原始数据进行**盲转发**的HTTP应用程序。

HTTP隧道的一种常见用途：是通过HTTP**连接承载**加密的安全套接字层（SSL,Secure Sockets Layer）流量，这样SSL流量就可以穿过只允许Web流量通过的防火墙了。
###1.8.5 Agent代理
用户Agent代理是代表用户发起HTTP请求的客户端程序。

所有发布Web请求的应用程序都是HTTP Agent代理。

Web浏览器就是一种HTTP Agent代理。